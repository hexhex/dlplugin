2006-12-01  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* configure.ac: Bump version to 0.5.0beta1.

2006-11-22  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* testsuite/Makefile.am: Add TestDLOptimizer.
	* testsuite/TestDLOptimizer.cpp: Likewise.
	* testsuite/TestDLOptimizer.h: Likewise.
	
	* testsuite/TestDLRewriter.cpp: Fix testcases.

	* src/DLOptimizer.cpp: Small fixes.

2006-11-21  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/DLOptimizer.h: Rename HexDLRewriterDriver to DLOptimizer.
	* include/HexDLRewriterDriver.h: Likewise.
	* include/Makefile.am: Likewise.
	* include/RacerInterface.h: Likewise.
	* src/DLOptimizer.cpp: Likewise.
	* src/HexDLRewriterDriver.cpp: Likewise.
	* src/Makefile.am: Likewise.
	* src/RacerInterface.cpp: Likewise.
	* testsuite/TestDLRewriter.cpp: Likewise.

2006-11-20  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/HexDLRewriterFlexLexer.h: Remove HexDLRewriter scanner and parser files.
	* include/Makefile.am: Likewise.
	* src/HexDLRewriterScanner.lpp: Likewise.
	* src/HexDLRewriterParser.ypp: Likewise.
	* src/Makefile.am: Likewise.

	* include/HexDLDriver.h: Adapt to new plugin interface.
	* include/HexDLRewriterDriver.h: Likewise.
	* include/RacerInterface.h: Likewise.
	* src/HexDLDriver.cpp: Likewise.
	* src/HexDLRewriter.cpp: Likewise.
	* src/HexDLRewriterDriver.cpp: Likewise.
	* src/Query.cpp: Likewise.
	* src/RacerInterface.cpp: Likewise.
	* src/RacerNRQLBuilder.cpp: Likewise.
	* testsuite/TestDLRewriter.cpp: Likewise.
	* testsuite/TestRacerInterface.cpp: Likewise.
	* testsuite/TestRacerInterface.h: Likewise.

	* include/RacerExtAtom.tcc: Give more specific exception messages.

2006-11-08  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/HexDLParser.ypp: Fix boolean cq-atoms without ().
	* src/HexDLScanner.lpp: Likewise.

2006-11-06  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/Makefile.am: Add new dl-atom rewriter.
	* src/Makefile.am: Likewise.
	
	* include/HexDLDriver.h: Split the dlrewriter into a pure
	syntactic rewriter and an optimizer.
	* include/HexDLFlexLexer.h: Likewise.
	* include/HexDLRewriter.h: Likewise.
	* include/HexDLRewriterDriver.h: Likewise.
	* include/RacerInterface.h: Likewise.
	* src/HexDLDriver.cpp: Likewise.
	* src/HexDLParser.ypp: Likewise.
	* src/HexDLRewriter.cpp: Likewise.
	* src/HexDLRewriterDriver.cpp: Likewise.
	* src/HexDLRewriterParser.ypp: Likewise.
	* src/HexDLRewriterScanner.lpp: Likewise.
	* src/HexDLScanner.lpp: Likewise.
	* src/RacerInterface.cpp: Likewise.
	* testsuite/TestDLRewriter.cpp: Likewise.

2006-11-05  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/HexDLFlexLexer.h: Add non-functional dl-atom rewriter
	without hex parser.
	* src/HexDLDriver.cpp: Likewise.
	* src/HexDLParser.ypp: Likewise.
	* src/HexDLScanner.lpp: Likewise.

2006-11-01  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* configure.ac: Bump version to 0.5.0.

2006-10-30  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	Release version 0.4.0.
	
	* src/RacerInterface.cpp (RacerInterface::setOptions): Rename
	--norewrite to --nopush.

	* src/HexDLRewriterDriver.cpp (RewritingVisitor::rewriteBody):
	Don't push negative literals to positive literals.

	* src/HexDLRewriterParser.ypp: Fix parsing of negated dl-queries.

	* src/HexDLRewriter.cpp (DLAtomRewriterBase::getCQ): Fix quoted
	output terms.

2006-10-25  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/HexDLRewriterDriver.cpp: Use RewritingVisitor to distinguish
	Rules/WeakConstraints when rewriting the body of a rule.

	* include/HexDLRewriter.h: Add support for aggregates.
	* src/HexDLRewriter.cpp: Likewise.

	* src/HexDLRewriterParser.ypp: Likewise.
	* src/HexDLRewriterScanner.lpp: Likewise.

	* src/RacerAnswerDriver.cpp: Include sstream.h. 
	* src/RacerNRQLBuilder.cpp: Likewise.

2006-10-14  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/HexDLRewriter.cpp (DLAtomRewriterBase::push): Fix variable renaming.

	* src/AtomSeparator.cpp (AtomSeparator::parse): Fix handling of negated atoms.

2006-10-12  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/HexDLRewriter.h: Add --norewrite to turn off dl-rewriting.
	* include/HexDLRewriterDriver.h: Likewise.
	* src/HexDLRewriter.cpp: Likewise.
	* src/HexDLRewriterDriver.cpp: Likewise.
	* src/HexDLRewriterParser.ypp: Likewise.
	* src/RacerInterface.cpp: Likewise.
	* testsuite/TestDLRewriter.cpp: Likewise.

	* src/HexDLRewriterDriver.cpp: Decouple static dlinput map.

	* include/HexDLRewriter.h: Forgot to handle dlC/dlR extatoms.
	* src/HexDLRewriter.cpp: Likewise.
	* src/HexDLRewriterParser.ypp: Likewise.
	* src/HexDLRewriterScanner.lpp: Likewise.

	* include/HexDLRewriter.h: dl-atom pushing works now.
	* src/HexDLRewriter.cpp: Likewise.

2006-10-11  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerQueryExpr.cpp (ABoxQueryExpr::output): Fix Term
	handling.

	* src/AtomSeparator.cpp (AtomSeparator::parse): Don't quote
	predicates, set atoms FO.

	* include/HexDLRewriter.h: cq-atom pushing works now.
	* src/HexDLRewriter.cpp: Likewise.
	* testsuite/TestDLRewriter.cpp: Likewise.

	* include/HexDLRewriter.h: Add preliminary cq-atom pushing.
	* src/HexDLRewriter.cpp: Likewise.

	* include/AtomSeparator.h: Add AtomSeparator.
	* include/Makefile.am: Likewise.
	* src/Makefile.am: Likewise.
	* src/AtomSeparator.cpp: Likewise.
	* src/QueryCtx.cpp: Likewise.

2006-10-10  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/HexDLRewriter.h: Add body pushing mainloop.
	* src/HexDLRewriter.cpp: Likewise.

	* examples/wine.rdf: Add a local file importing wine+food ontology.
	* examples/food.rdf: Likewise.

	* src/HexDLRewriter.cpp: Fix negated dl-queries.

	* examples/region.dlp: New example.

2006-10-06  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/HexDLRewriter.h: BodyRewriter now contains a list of
	literals and a list of dl- resp. cq-atoms.
	* src/HexDLRewriterParser.ypp: Likewise.
	* src/HexDLRewriter.cpp: Likewise.

	* src/HexDLRewriterDriver.cpp (HexDLRewriterDriver::rewrite):
	Don't forget to clean-up after program parsing.

2006-10-05  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/HexDLRewriter.cpp: Add preliminary depgraph code.
	* src/HexDLRewriterDriver.cpp: Likewise.
	* src/HexDLRewriterParser.ypp: Likewise.
	* src/HexDLRewriterScanner.lpp: Likewise.
	* testsuite/TestDLRewriter.cpp: Likewise.

	* include/HexDLRewriterDriver.h: Move dl-atom ops related code to
	HexDLRewriter.
	* include/HexDLRewriter.h: Likewise.

2006-09-27  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* testsuite/run-dlvhex-tests.sh: Run dlvhex with options
	--keepnsprefix, --silent and --allmodels.

2006-09-24  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/OWLParser.cpp: Add some @todo items.
	* src/QueryDirector.cpp: Likewise.

	* testsuite/run-dlvhex-tests.sh: Add python encoding.

	* README: Move maintainer relevant information to
	MAINTAINER-README.
	* MAINTAINER-README: Likewise.

	* src/HexDLRewriterParser.ypp: Fix default negated ext-atoms.
	* src/HexDLRewriterScanner.lpp: Likewise.

2006-09-21  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* testsuite/run-dlvhex-tests.sh: BSD mktemp and find are a bit
	different from their GNU counterparts.
	Escape ' chars in python lists.
	
2006-09-19  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/TCPStream.cpp (TCPStream::open): Close socket after a
	connection failure.

	* src/HexDLRewriterScanner.lpp: Add support for weak constraints.
	Fix line counter.

	* src/RacerAnswerScanner.lpp: Fix line counter.

	* bootstrap.sh: Rename bootstrap to bootstrap.sh.

2006-09-17  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* testsuite/TestDLRewriter.cpp: Open files in read-only mode,
	otw. we would silently skip read-only hex-programs.

	* configure.ac: Always define FLEXLEXER_H, otw. make distcheck is
	a no-op.

	* testsuite/Makefile.am (AM_CPPFLAGS): Add -I$(top_srcdir)/src.

2006-09-15  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* configure.ac: Bump version to 0.4.0.
	Fix bashism.

	* include/HexDLRewriter.h: Add support for rewriting dl-atoms to
	&dlDR ext-atoms.
	* include/HexDLRewriterDriver.h: Likewise.
	* include/OWLParser.h: Likewise.
	* include/Ontology.h: Likewise.
	* src/HexDLRewriter.cpp: Likewise.
	* src/HexDLRewriterDriver.cpp: Likewise.
	* src/HexDLRewriterParser.ypp: Likewise.
	* src/OWLParser.cpp: Likewise.
	* src/Ontology.cpp: Likewise.
	* src/QueryDirector.cpp: Likewise.
	* src/RacerInterface.cpp: Likewise.
	* testsuite/TestOWLParser.cpp: Likewise.

2006-09-14  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	Release version 0.3.1.

	* m4/cppunit.m4: Include updated macros from cppunit 1.12.0.

	* m4/boost.m4: Fix boost version checking on macosx.

	* configure.ac: Don't follow subdirectories when searching for
	FlexLexer.h.
	Bump version to 0.3.1.

	* src/TCPStream.cpp (TCPStreamBuf): sigemptyset() is a macro on
	macosx.

	* src/Makefile.am (libdlvhexracer_la_LDFLAGS): Remove
	-no-undefined, the macosx linker is pretty picky.

2006-09-13  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	Release version 0.3.0.
	
	* testsuite/Makefile.am: Start only one RacerPro instance for the testsuite.
	* testsuite/run-dlvhex-tests.sh: Likewise.

	* configure.ac: Fix FlexLexer.h searching.

	* include/Answer.h: Eliminate some -Weffc++ compiler warnings.
	* include/Cache.h: Likewise.
	* include/HexDLRewriter.h: Likewise.
	* include/HexDLRewriterDriver.h: Likewise.
	* include/HexDLRewriterFlexLexer.h: Likewise.
	* include/LogBuf.h: Likewise.
	* include/RacerAnswerDriver.h: Likewise.
	* include/RacerExtAtom.tcc: Likewise.
	* include/RacerFlexLexer.h: Likewise.
	* include/RacerInterface.h: Likewise.
	* include/RacerNRQL.h: Likewise.
	* include/RacerNRQL.tcc: Likewise.
	* include/RacerQueryExpr.h: Likewise.
	* include/TCPStream.h: Likewise.
	* src/Answer.cpp: Likewise.
	* src/DLQuery.cpp: Likewise.
	* src/HexDLRewriter.cpp: Likewise.
	* src/HexDLRewriterDriver.cpp: Likewise.
	* src/LogBuf.cpp: Likewise.
	* src/Ontology.cpp: Likewise.
	* src/Query.cpp: Likewise.
	* src/QueryCtx.cpp: Likewise.
	* src/QueryDirector.cpp: Likewise.
	* src/RacerAnswerDriver.cpp: Likewise.
	* src/TCPStream.cpp: Likewise.
	* src/URI.cpp: Likewise.

2006-09-12  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/URI.h: Allow conversion of relative filenames to
	absolute filename.
	* src/Ontology.cpp: Likewise.
	* src/URI.cpp: Likewise.
	* testsuite/TestRacerNRQL.cpp: Likewise.

	* src/Makefile.am (dist-hook): Add FlexLexer.h to the distribution.

	* configure.ac: Search for FlexLexer.h path.
	Use srcdir instead of top_srcdir.

	* src/URI.cpp (URI::isValid): Add length check.

2006-09-08  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/URI.h (URI::isValid): Add static URI validity checkers.
	* src/URI.cpp: Likewise.

	* include/RacerQueryExpr.h: Use URI::isValid.
	* src/Answer.cpp: Likewise.
	* src/QueryCtx.cpp: Likewise.
	* src/RacerQueryExpr.cpp: Likewise.
	
	* configure.ac: Check sys/select.h and sys/socket.h headers.

	* src/RacerKBManager.cpp: Use std namespace for C-library functions.
	* src/TCPStream.cpp: Likewise.

	* src/Makefile.am (libdlvhexracer_la_SOURCES): Add URI.cpp.

	* include/Makefile.am (noinst_HEADERS): Add URI.h.

	* include/OWLParser.h: Introduce URI class.
	* include/Ontology.h: Likewise.
	* include/RacerBuilder.h: Likewise.
	* include/URI.h: Likewise.

	* src/OWLParser.cpp: Likewise.
	* src/Ontology.cpp: Likewise.
	* src/RacerBuilder.cpp: Likewise.
	* src/RacerExtAtom.cpp: Likewise.
	* src/URI.cpp: Likewise.

2006-09-07  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* configure.ac: We need at least dlvhex 1.2.

	* src/Answer.cpp: Use boost::shared_ptr<> instead of a pointer to
	the output tuples.
	* testsuite/TestRacerDirector.cpp: Likewise.

	* documentation.dox: Remove bogus todo item.

	* src/QueryCtx.cpp (AtomSeparator::operator()): Fix exception.

	* include/Answer.h: Fix doxygen doc.
	* include/HexDLRewriterDriver.h: Likewise.
	* include/QueryCtx.h: Likewise.
	* include/RacerQueryExpr.h: Likewise.
	* include/Registry.h: Likewise.

2006-09-05  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* README: Testsuite works with cppunit 1.12.0.

	* include/Answer.h: Fix documentation.

	* src/RacerAnswerParser.ypp: %require at least bison 2.2.

	* src/TCPStream.cpp (TCPStreamBuf::TCPStreamBuf): Setup struct
	sigaction properly.
	(TCPStreamBuf::close): Only close() valid filedescriptors.

	* include/HexDLRewriter.h: Move rewriting code to HexDLRewriter.
	* include/HexDLRewriterDriver.h: Likewise.
	* src/HexDLRewriter.cpp: Likewise.
	* src/HexDLRewriterDriver.cpp: Likewise.
	* src/HexDLRewriterParser.ypp: Likewise.

	* include/QueryCtx.h: Disallow copying through private copy ctor
	and assignment operator.
	* src/QueryCtx.cpp: Likewise.

	* include/Makefile.am (noinst_HEADERS): Add DLQuery.h and HexDLRewriter.h.

	* src/Makefile.am (libdlvhexracer_la_SOURCES): Add DLQuery.cpp and HexDLRewriter.cpp.
	(libdlvhexracer_la_LDFLAGS): Add -no-undefined.
	
	* include/DLQuery.h: Move DLQuery to its own file.
	* include/Query.h: Likewise.
	* src/DLQuery.cpp: Likewise.
	* src/Query.cpp: Likewise.
	
	* configure.ac: Add ACE_LIBTOOL_WIN32_DLL.

2006-08-29  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/TCPStream.cpp (TCPStreamBuf::open): Fix waiting for the
	connection.

2006-08-28  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/Makefile.am (noinst_HEADERS): Add RacerExtAtom.tcc.

	* m4/ace.m4: Remove.

	* include/RacerInterface.h: Get rid of ACE_Singleton.
	* src/RacerInterface.cpp: Likewise.

	* configure.ac: We don't need ACE anymore.
	* README: Likewise.

	* src/Makefile.am: Don't link with the ACE library.

	* include/TCPStream.h: Use the BSD socket API instead of ACE_SOCK_Stream.
	* src/TCPStream.cpp: Likewise.

2006-08-27  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/Ontology.h: Get rid of UserDir code.
	* src/Ontology.cpp: Likewise.

	* include/UserDir.h: Remove.
	* src/UserDir.cpp: Likewise.

	* include/Makefile.am: Remove UserDir.
	* src/Makefile.am: Likewise.

2006-08-26  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* examples/researcher.dlp: Update.

	* testsuite/LineScoop.py: New.

	* testsuite/Makefile.am: Add TestCache to the TestSuite.
	* testsuite/TestCache.cpp: Likewise.
	* testsuite/TestCache.h: Likewise.

	* include/Cache.h: Fix cache stats.
	* src/Cache.cpp: Likewise.

	* include/Answer.h: Add operator<<.
	* src/Answer.cpp: Likewise.

	* configure.ac: Bump version to 0.3.0.

2006-08-23  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/Cache.h: Add cache statistics.
	* include/RacerInterface.h: Likewise. 
	* src/Cache.cpp: Likewise. 
	* src/RacerInterface.cpp: Likewise. 
	
2006-08-22  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/KBManager.h: Improve checking of opened tboxes.
	* include/RacerKBManager.h: Likewise.
	* src/RacerExtAtom.cpp: Likewise.
	* src/RacerKBManager.cpp: Likewise.

	* include/RacerExtAtom.h: Add GetCache template.
	* include/RacerExtAtom.tcc: Likewise.
	* include/RacerInterface.h: Likewise.
	* src/RacerExtAtom.cpp: Likewise.

	* src/RacerInterface.cpp: Likewise.

	* include/Ontology.h (operator>): New comparison function.

	* include/Cache.h: Support full caching strategy.
	(NullCache): New caching strategy.
	* src/Cache.cpp: Likewise.

	* include/Query.h: Use only one AtomSet for the projected
	interpretation.
	Remove subset/superset methods.
	Move Ontology member from Query to DLQuery.
	Use a DLQuery shared_ptr in Query.
	* include/RacerBuilder.h: Likewise.
	* include/RacerNRQL.tcc: Likewise.
	* src/Answer.cpp: Likewise.
	* src/Query.cpp: Likewise.
	* src/QueryCtx.cpp: Likewise.
	* src/QueryDirector.cpp: Likewise.
	* src/RacerBuilder.cpp: Likewise.
	* src/RacerNRQLBuilder.cpp: Likewise.
	* testsuite/TestRacerBuilder.cpp: Likewise.
	* testsuite/TestRacerDirector.cpp: Likewise.
	* testsuite/TestRacerNRQL.cpp: Likewise.
	* testsuite/TestRacerQuery.cpp: Likewise.

2006-08-21  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/Query.cpp (Query::setInterpretation): Ignore atoms in the
	interpretation with wrong arity.

2006-08-20  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	Release version 0.2.0.
	
	* include/Ontology.h: Move some operators to the header file.
	* include/QueryCtx.h: Likewise.
	* include/RacerNRQL.h: Likewise.
	* src/RacerNRQL.cpp: Likewise.
	* src/Ontology.cpp: Likewise.
	* src/Query.cpp: Likewise.

	* examples/test.owl: Add namespace without a fragment part.
	* examples/test.dlp: Likewise.

	* include/RacerQueryExpr.h: Fix URI handling.
	* src/RacerBuilder.cpp: Likewise.
	* src/RacerNRQLBuilder.cpp: Likewise.
	* src/RacerQueryExpr.cpp: Likewise.

2006-08-19  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/QueryDirector.cpp (QueryCompositeDirector::handleInconsistency):
	Add individuals of the interpretation.

2006-08-18  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/RacerExtAtom.h: Use (retrieve-under-premise) instead
	of (retrieve) in &dlCQ and &dlDR.
	* src/RacerExtAtom.cpp: Likewise.

	* testsuite/TestRacerNRQL.cpp (TestRacerNRQL::runRacerPremiseRetrieveTest): New testcase.

	* include/RacerQueryExpr.h (ABoxInstanceAssertion,ABoxRelatedAssertion): New classes.
	* src/RacerQueryExpr.cpp: Likewise.

	* include/RacerNRQLBuilder.h (NRQLStateBuilder): New class.
	* src/RacerBuilder.cpp: Likewise.
	* src/RacerNRQLBuilder.cpp: Likewise.

	* configure.ac (DLPLUGIN_MAJOR,DLPLUGIN_MINOR,DLPLUGIN_MICRO):
	Setup version information.

	* include/RacerInterface.h (RacerRunner): Remove.
	* include/RacerRunner.h: Likewise.
	* src/RacerInterface.cpp: Likewise.
	* src/RacerRunner.cpp: Likewise.
	* testsuite/TestRacerDirector.h: Likewise.
	* testsuite/TestRacerDirector.cpp: Likewise.
	* testsuite/TestRacerRunner.h: Likewise.
	* testsuite/TestRacerRunner.cpp: Likewise.
	* testsuite/TestRacerStream.h: Likewise.
	* testsuite/TestRacerStream.cpp: Likewise.

	* testsuite/Makefile.am (noinst_HEADERS): Remove TestRacerRunner.h.
	(TestSuite_SOURCES): Remove TestRacerRunner.cpp

	* include/Makefile.am (noinst_HEADERS): Remove RacerRunner.h.

	* src/Makefile.am (MAINTAINERCLEANFILES): Add
	HexDLRewriterParser.hpp and HexDLRewriterParser.output.
	(libdlvhexracer_la_SOURCES): Remove RacerRunner.cpp.

2006-08-17  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	The "from now on we won't start Racer anymore" update.

	* include/RacerQueryExpr.h: Use (add-concept-assertion)
	and (add-role-assertion) instead of (instance) resp. (related), so
	we can specify the ABox for the (state) command.
	* src/RacerBuilder.cpp: Likewise.
	* src/RacerNRQLBuilder.cpp: Likewise.
	* src/RacerQueryExpr.cpp: Likewise.
	* testsuite/TestRacerBuilder.cpp: Likewise.
	
	* include/TCPStream.h: Add isOpen() methods to TCPStreamBuf and
	TCPIOStream.
	* src/TCPStream.cpp: Likewise.

	* testsuite/Makefile.am: Start Racer outside of dlvhex.
	* testsuite/RacerRunner.sh: Likewise. 
	* testsuite/TestRacerBuilder.cpp: Likewise. 

	* testsuite/TestRacerDirector.cpp: Likewise. 
	* testsuite/TestRacerNRQL.cpp: Likewise. 
	* testsuite/TestRacerQuery.cpp: Likewise. 
	* testsuite/TestRacerRunner.cpp: Likewise. 
	* testsuite/TestRacerStream.cpp: Likewise. 
	* testsuite/run-dlvhex-tests.sh: Likewise. 

	* src/RacerAnswerScanner.lpp: Fix URI regexp for scheme:path URIs
	without //.

	* src/RacerAnswerParser.ypp: Fix status message parsing.

	* src/OWLParser.cpp: Fix file:// URIs.
	* src/Ontology.cpp: Likewise. 

	* include/Registry.h: Remove KB and open URI getter/setter
	methods.
	* src/Registry.cpp: Likewise. 

	* include/QueryDirector.h (QueryBaseBuilder,QueryBaseParser): New
	interfaces.
	* include/RacerAnswerDriver.h: Likewise. 
	* src/RacerAnswerDriver.cpp: Likewise. 

	* include/Ontology.h (Ontology::getRealURI): New method.

	* include/Makefile.am: Add KBManager and RacerKBManager.
	* src/Makefile.am: Likewise. 

	* include/LogBuf.h: Fix documentation.
	* include/RacerNRQL.h: Likewise. 
	* documentation.dox: Likewise.

	* include/KBManager.h: Introduce KB Manager.
	* include/Query.h: Likewise. 
	* include/QueryCtx.h: Likewise. 
	* include/RacerBuilder.h: Likewise. 
	* include/RacerExtAtom.h: Likewise. 
	* include/RacerInterface.h: Likewise. 
	* include/RacerKBManager.h: Likewise. 
	* include/RacerNRQL.tcc: Likewise. 
	* src/Query.cpp: Likewise. 
	* src/QueryCtx.cpp: Likewise. 
	* src/RacerBuilder.cpp: Likewise. 
 
	* src/RacerExtAtom.cpp: Likewise. 
	* src/RacerInterface.cpp: Likewise. 
	* src/RacerKBManager.cpp: Likewise. 

2006-08-13  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* configure.ac: Check for dlvhex >= 1.1.

	* testsuite/TestDLRewriter.cpp: Introduce dlvhex::dl::test namespace.
	* testsuite/TestDLRewriter.h: Likewise. 
	* testsuite/TestOWLParser.cpp: Likewise. 
	* testsuite/TestOWLParser.h: Likewise. 
	* testsuite/TestRacerBuilder.cpp: Likewise. 
	* testsuite/TestRacerBuilder.h: Likewise. 
	* testsuite/TestRacerDirector.cpp: Likewise. 
	* testsuite/TestRacerDirector.h: Likewise. 
	* testsuite/TestRacerInterface.cpp: Likewise. 
	* testsuite/TestRacerInterface.h: Likewise. 
	* testsuite/TestRacerNRQL.cpp: Likewise. 
	* testsuite/TestRacerNRQL.h: Likewise. 
	* testsuite/TestRacerParse.cpp: Likewise. 
	* testsuite/TestRacerParse.h: Likewise. 
	* testsuite/TestRacerQuery.cpp: Likewise. 
	* testsuite/TestRacerQuery.h: Likewise. 
	* testsuite/TestRacerRunner.cpp: Likewise. 
	* testsuite/TestRacerRunner.h: Likewise. 
	* testsuite/TestRacerStream.cpp: Likewise. 
	* testsuite/TestRacerStream.h: Likewise. 
	* testsuite/TestRacerTypes.cpp: Likewise. 
	* testsuite/TestRacerTypes.h: Likewise. 
	* testsuite/TestSuite.cpp: Likewise. 
	* testsuite/TestSuite.h: Likewise. 

	* include/RacerAnswerDriver.h: Introduce dlvhex::dl::racer namespace.
	* include/RacerRunner.h: Likewise. 
	* include/RacerQueryExpr.tcc: Likewise. 
	* include/RacerQueryExpr.h: Likewise. 
	* include/RacerNRQLBuilder.h: Likewise. 
	* include/RacerNRQL.tcc: Likewise. 
	* include/RacerInterface.h: Likewise. 
	* include/RacerFlexLexer.h: Likewise. 
	* include/RacerExtAtom.h: Likewise. 
	* include/RacerBuilder.h: Likewise. 
	* src/RacerAnswerDriver.cpp: Likewise. 
	* src/RacerAnswerParser.ypp: Likewise. 
	* src/RacerAnswerScanner.lpp: Likewise. 
	* src/RacerBuilder.cpp: Likewise. 
	* src/RacerExtAtom.cpp: Likewise. 
	* src/RacerInterface.cpp: Likewise. 
	* src/RacerNRQL.cpp: Likewise. 
	* src/RacerNRQLBuilder.cpp: Likewise. 
	* src/RacerQueryExpr.cpp: Likewise. 
	* src/RacerRunner.cpp: Likewise. 

	* include/LogBuf.h: Introduce dlvhex::util namespace.
	* include/TCPStream.h: Likewise. 
	* include/UserDir.h: Likewise. 
	* src/LogBuf.cpp: Likewise. 
	* src/TCPStream.cpp: Likewise. 
	* src/UserDir.cpp: Likewise. 

	* include/Answer.h: Introduce dlvhex::dl namespace.
	* include/HexDLRewriterFlexLexer.h: Likewise. 
	* include/HexDLRewriterDriver.h: Likewise. 
	* include/Cache.h: Likewise. 
	* include/QueryCtx.h: Likewise. 
	* include/Query.h: Likewise. 
	* include/Ontology.h: Likewise. 
	* include/OWLParser.h: Likewise. 
	* include/Registry.h: Likewise. 
	* src/Answer.cpp: Likewise. 
	* src/Cache.cpp: Likewise. 
	* src/HexDLRewriterDriver.cpp: Likewise. 
	* src/HexDLRewriterParser.ypp: Likewise. 
	* src/QueryCtx.cpp: Likewise. 
	* src/Query.cpp: Likewise. 
	* src/Ontology.cpp: Likewise. 
	* src/OWLParser.cpp: Likewise. 
	* src/Registry.cpp: Likewise. 

	* documentation.dox: Fix documentation.

	* include/Makefile.am: Add QueryDirector and DLError.
	* src/Makefile.am: Likewise. 

	* include/QueryDirector.h: Move RacerDirector to QueryDirector. 
	* include/RacerDirector.tcc: Likewise. 
	* include/RacerDirector.h: Likewise. 
	* include/QueryDirector.tcc: Likewise. 
	* src/RacerDirector.cpp: Likewise. 
	* src/QueryDirector.cpp: Likewise. 

	* include/RacerError.h: Move RacerError to DLError.
	* include/DLError.h: Likewise.

2006-08-12  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerDirector.cpp: Fix handling of inconsistent conjunctive
	queries.

	* include/Ontology.h: Code cleanups.
	* src/LogBuf.cpp: Likewise. 
	* src/Ontology.cpp: Likewise. 

	* include/OWLParser.h: Get rid of static member functions for the
	raptor parser.
	* src/OWLParser.cpp: Likewise.

2006-08-10  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/RacerBuilder.h: Add adapters for two adaptation
	scenarious in order to simplify the RacerBuilder class hierarchy.
	* include/RacerDirector.h: Likewise.
	* src/RacerBuilder.cpp: Likewise.
	* src/RacerDirector.cpp: Likewise. 
	* src/RacerExtAtom.cpp: Likewise. 
	* testsuite/TestRacerDirector.cpp: Likewise. 

	* include/Answer.h: Code cleanups.
	* include/LogBuf.h: Likewise.
	* include/OWLParser.h: Likewise.
	* src/Answer.cpp: Likewise.
	* src/HexDLRewriterDriver.cpp: Likewise.
	* src/HexDLRewriterParser.ypp: Likewise.
	* src/OWLParser.cpp: Likewise.
	* src/Query.cpp: Likewise.
	* src/RacerAnswerParser.ypp: Likewise.
	* src/RacerNRQLBuilder.cpp: Likewise.
	* testsuite/TestOWLParser.cpp: Likewise.
	* testsuite/TestSuite.h: Likewise.

	* include/Cache.h (Cache::CacheSet): Use boost::indirect_fun<>
	instead of homebrewn comparator.
 
	* include/QueryCtx.h (operator<<,operator<): Add some operators
	for QueryCtx.
	* src/QueryCtx.cpp: Likewise. 

2006-08-09  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* examples/tests/shop.out: Fix answersets.
	* examples/tests/test.out: Likewise.

	* include/Answer.h: Fix documentation + code cleanups.
	* include/TCPStream.h: Likewise. 
	* include/Registry.h: Likewise. 
	* include/RacerRunner.h: Likewise. 
	* include/RacerQueryExpr.tcc: Likewise. 
	* include/RacerQueryExpr.h: Likewise. 
	* include/RacerNRQLBuilder.h: Likewise. 
	* include/RacerNRQL.h: Likewise. 
	* include/RacerInterface.h: Likewise. 
	* include/RacerFlexLexer.h: Likewise. 
	* include/RacerExtAtom.h: Likewise. 
	* include/RacerDirector.h: Likewise. 
	* include/RacerBuilder.h: Likewise. 
	* include/RacerAnswerDriver.h: Likewise. 
	* include/QueryCtx.h: Likewise. 
	* include/Query.h: Likewise. 
	* include/Ontology.h: Likewise. 
	* include/OWLParser.h: Likewise. 
	* include/LogBuf.h: Likewise. 
	* include/HexDLRewriterFlexLexer.h: Likewise. 
	* include/HexDLRewriterDriver.h: Likewise. 
	* include/Cache.h: Likewise. 
	* include/UserDir.h: Likewise. 
	* src/TCPStream.cpp: Likewise. 
	* src/Registry.cpp: Likewise. 
	* src/RacerRunner.cpp: Likewise. 
	* src/RacerQueryExpr.cpp: Likewise. 
	* src/RacerNRQLBuilder.cpp: Likewise. 
	* src/RacerInterface.cpp: Likewise. 
	* src/RacerDirector.cpp: Likewise. 
	* src/RacerAnswerDriver.cpp: Likewise. 
	* src/QueryCtx.cpp: Likewise. 
	* src/Query.cpp: Likewise. 
	* src/Ontology.cpp: Likewise. 
	* src/OWLParser.cpp: Likewise. 
	* src/LogBuf.cpp: Likewise. 
	* src/HexDLRewriterDriver.cpp: Likewise. 
	* src/Cache.cpp: Likewise. 
	* src/Answer.cpp: Likewise. 
	* src/UserDir.cpp: Likewise. 
	* testsuite/TestRacerDirector.cpp: Likewise. 

2006-08-07  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* configure.ac: Per default we don't hardcode RacerPro executable
	path in config.h.

	* src/UserDir.cpp (UserDir::remove): Fix file unlinking.

	* src/HexDLRewriterDriver.cpp (HexDLRewriterDriver::rewriteDLAtom):
	Throw PluginError if user forgot to supply the ontology.

	* src/Ontology.cpp (Ontology::operator<,Ontology::operator==):
	Don't compare namespace.

	* include/Query.h: Use only projected interpretation.
	* src/RacerNRQLBuilder.cpp: Likewise.
	* src/Query.cpp: Likewise.

	* examples/wires.owl: Fix namespace.
	* examples/wires.hex: Likewise.
	* examples/tests/wires.out: Likewise.
	* testsuite/TestRacerInterface.cpp: Likewise.

2006-08-06  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/OWLParser.h: Get rid of libraptor warnings and error
	messages.
	* src/OWLParser.cpp: Likewise.

	* src/RacerAnswerScanner.lpp: Fix Racer warning message parsing.

	* testsuite/TestRacerQuery.cpp: Fix bug in the testcases.

	* src/RacerInterface.cpp (RacerInterface::getUniverse): Use
	Ontology instead of OWLParser.

	* src/Ontology.cpp: Download http:// ontologies and put them into
	a temporary file in ~/.dlvhex so we don't need to download them
	in the OWLParser code *and* in the Racer code.
	Add support for parsing errors in libraptor. 

	* include/Ontology.h: Likewise.

	* src/UserDir.cpp (UserDir::createTemp): New method.
	* include/UserDir.h: Likewise.

2006-08-05  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/Registry.h: URL -> URI.
	* src/Registry.cpp: Likewise.

	* include/Query.h: Use Ontology instead of namespace + uri.
	* src/Answer.cpp: Likewise.
	* src/HexDLRewriterDriver.cpp: Likewise.
	* src/Query.cpp: Likewise.
	* src/QueryCtx.cpp: Likewise.
	* src/RacerBuilder.cpp: Likewise.
	* src/RacerExtAtom.cpp: Likewise.
	* src/RacerNRQLBuilder.cpp: Likewise.
	* testsuite/TestRacerQuery.cpp: Likewise.
	* testsuite/TestRacerNRQL.cpp: Likewise.
	* testsuite/TestRacerBuilder.cpp: Likewise.

	* include/Ontology.h: Introduce the Ontology Factory with built-in
	ontology cache.
	* src/Ontology.cpp: Likewise.

	* src/OWLParser.cpp (OWLParser::fetchURI): Add support for OWL downloading.
	* include/OWLParser.h: Likewise.

	* src/Makefile.am (libdlvhexracer_la_SOURCES): Add Ontology.h.

	* include/Makefile.am (noinst_HEADERS): Add Ontology.h.

2006-08-04  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* testsuite/TestRacerQuery.cpp: Use AtomSet instead of Interpretation. 
	* testsuite/TestRacerNRQL.cpp: Likewise. 
	* testsuite/TestRacerInterface.cpp: Likewise. 
	* testsuite/TestRacerDirector.cpp: Likewise. 
	* testsuite/TestRacerBuilder.cpp: Likewise. 

	* src/HexDLRewriterScanner.lpp: Add support for naf extatoms.
	* src/HexDLRewriterParser.ypp: Likewise.

	* src/RacerDirector.cpp (RacerCompositeDirector): Use
	boost::ptr_vector<> instead of std::vector<>.
	* include/RacerDirector.h: Likewise.

	* src/QueryCtx.cpp (QueryCtx::QueryCtx): Always insert namespace
	into query term.

	* include/Query.h (Query::getProjectedInterpretation): New method.
	
	* src/Query.cpp (Query::isSubseteq): Use projected interpretation.
	Fix operator< and operator==.

	* include/Cache.h: Better debugging output.

	* src/Cache.cpp: Use projected interpretation.
	
2006-08-03  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/Makefile.am (noinst_HEADERS): Add Answer.h, Query.h and
	QueryCtx.h.

	* src/Makefile.am (libdlvhexracer_la_SOURCES): Add Answer.cpp,
	Query.cpp and QueryCtx.cpp.

	* include/RacerQuery.h: Remove.
	* src/RacerQuery.cpp: Likewise.

	* include/Answer.h: Split RacerQuery into Answer, Query, DLQuery and
	QueryCtx.
	* include/Query.h: Likewise.
	* include/QueryCtx.h: Likewise.
	* include/RacerNRQLBuilder.h: Likewise.
	* include/RacerNRQL.tcc: Likewise.
	* include/RacerNRQL.h: Likewise.
	* include/RacerExtAtom.h: Likewise.
	* include/RacerDirector.h: Likewise.
	* include/RacerBuilder.h: Likewise.
	* include/RacerAnswerDriver.h: Likewise.
	* include/Cache.h: Likewise.
	* src/QueryCtx.cpp: Likewise.
	* src/Query.cpp: Likewise.
	* src/Answer.cpp: Likewise.
	* src/RacerNRQLBuilder.cpp: Likewise.
	* src/RacerExtAtom.cpp: Likewise.
	* src/RacerDirector.cpp: Likewise.
	* src/RacerBuilder.cpp: Likewise.
	* src/RacerAnswerParser.ypp: Likewise.
	* src/RacerAnswerDriver.cpp: Likewise.
	* src/Cache.cpp: Likewise.
	* testsuite/TestRacerQuery.cpp: Likewise.
	* testsuite/TestRacerParse.cpp: Likewise.
	* testsuite/TestRacerNRQL.cpp: Likewise.
	* testsuite/TestRacerDirector.cpp: Likewise.
	* testsuite/TestRacerBuilder.cpp: Likewise.

2006-08-02  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/RacerQuery.h: Add support for Racer warning messages.
	* src/RacerExtAtom.cpp: Likewise.
	* src/RacerAnswerScanner.lpp: Likewise.

	* src/RacerQuery.cpp (Answer::addTuple): In case of boolean
	answers we add the pattern tuple as output.

	* src/RacerNRQLBuilder.cpp (NRQLBuilder::createHead): Always
	create individuals with namespace.

	* src/RacerAnswerParser.ypp: Add workaround for a Racer bug in
	nRQL answers.
	In case of a boolean answers we just add an empty Tuple and let
	Answer handle it.
	
2006-08-01  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/HexDLRewriterFlexLexer.h: Fix documentation.
	* include/RacerFlexLexer.h: Likewise.
	* include/RacerQuery.h: Likewise.

	* src/RacerQuery.cpp: Add support for negated concept expressions.
	* src/RacerNRQLBuilder.cpp: Likewise.
	
	* include/RacerInterface.h: Move plugin overview to
	documentation.dox.
	* documentation.dox: Likewise.

	* Makefile.am (EXTRA_DIST): Add documentation.dox.

	* doxygen.cfg: Use *.dox file for documentation purposes.

2006-07-31  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* examples/Makefile.am (EXTRA_DIST): Add dl-shop.dlp and
	shop-http.dlp.

	* src/HexDLRewriterParser.ypp: Add support for rewriting
	dl-atoms/cq-atoms.
	* src/HexDLRewriterScanner.lpp: Likewise.
	* testsuite/TestDLRewriter.cpp: Likewise.

	* include/HexDLRewriterDriver.h: Let the HexDLRewriter bison
	parser rewrite those dl-atoms/cq-atoms.
	* src/HexDLRewriterDriver.cpp: Likewise.

	* src/Makefile.am (EXTRA_DIST): Add generated HexDLRewriter
	scanner and parser.
	(libdlvhexracer_la_SOURCES): Add HexDLRewriterParser.ypp.

	* include/RacerInterface.h (RacerInterface::setOptions): Add
	support for help and debug output.
	Remove Registry member.
	* src/RacerInterface.cpp: Likewise.
	* testsuite/TestRacerInterface.cpp: Likewise.

	* include/Registry.h (Registry): Use static methods.
	* include/RacerExtAtom.h: Likewise.
	* src/RacerAnswerDriver.cpp: Likewise.
	* src/RacerExtAtom.cpp: Likewise.
	* src/Registry.cpp: Likewise.

	* include/RacerFlexLexer.h: Use yyRacerFlexLexer instead of
	yyFlexLexer.
	* src/RacerAnswerScanner.lpp: Likewise.

	* include/HexDLRewriterFlexLexer.h: Use yyHexFlexLexer instead of
	zzFlexLexer.

	* include/RacerNRQLBuilder.h: Add documentation.

	* src/RacerNRQLBuilder.cpp: Stream the queries at once.
	* src/RacerBuilder.cpp: Likewise.

2006-07-27  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/Makefile.am (libdlvhexracer_la_SOURCES): Add
	RacerNRQLBuilder.cpp.

	* include/RacerNRQLBuilder.h: Move NRQL code from RacerQuery to
	RacerNRQLBuilder.
	* src/RacerNRQLBuilder.cpp: Likewise.
	* include/RacerQuery.h: Likewise.
	* src/RacerQuery.cpp: Likewise.

	* include/RacerNRQL.h: Refactor to RacerNRQLBuilder.
	* include/RacerNRQL.tcc: Likewise.
	* src/RacerNRQL.cpp: Likewise.
	* src/RacerBuilder.cpp: Likewise.
	* testsuite/TestRacerNRQL.cpp: Likewise.

	* include/Makefile.am (noinst_HEADERS): Add RacerNRQLBuilder.h and
	RacerNRQL.tcc.

	* include/RacerQueryExpr.tcc: Use boost::indirect_iterator<>
	instead of homemade Dereference functor.

	* src/RacerQuery.cpp (QueryCtx::QueryCtx): Always quote predicate
	names in conjunctive queries.

2006-07-26  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerExtAtom.cpp (RacerExtAtom::retrieve): Catch
	std::exception instead of RacerError.

	* examples/wires2.hex: Use the convinient syntax for &dlCQ
	external atoms.

	* src/RacerQuery.cpp (QueryCtx::QueryCtx): Determine the namespace
	prefix in CQs and exchange the abbreviated names by the
	corresponding fully-fledged URI.
	(AtomSeparator::operator()): Parse whitespaces.

	* testsuite/TestDLRewriter.cpp: Add CQ rewriter testcase.

	* src/HexDLRewriterDriver.cpp (HexDLRewriterDriver::rewriteCQAtom):
	New callback for the scanner.
	* include/HexDLRewriterDriver.h: Likewise.

	* src/HexDLRewriterScanner.lpp: Add &dlCQ atom rewriter.

2006-07-25  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerAnswerDriver.cpp (RacerBaseAnswerDriver::getLexer): Add
	const modifier.
	* include/RacerAnswerDriver.h: Likewise.

	* src/RacerQuery.cpp (QueryCtx::QueryCtx): Use const_iterator
	instead of iterator.

	* include/DLRewriter.h: Remove.
	* src/DLRewriter.cpp: Likewise.

	* src/HexDLRewriterDriver.cpp: Move DLRewriter to HexDLRewriter
	and use flex / boost::tokenizer<> for the actual parsing process.
	* src/HexDLRewriterScanner.lpp: Likewise.
	* src/Makefile.am: Likewise.
	* src/RacerInterface.cpp: Likewise.
	* include/Makefile.am: Likewise.
	* include/HexDLRewriterFlexLexer.h: Likewise.
	* include/HexDLRewriterDriver.h: Likewise.
	* include/RacerInterface.h: Likewise.
	* testsuite/TestDLRewriter.cpp: Likewise.
	* testsuite/TestDLRewriter.h: Likewise.

2006-07-23  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/DLRewriter.h: Use boost::ptr_vector<RewriteRule> instead
	of std::vector<boost::shared_ptr<RewriteRule> >.
	* src/DLRewriter.cpp: Likewise.

	* testsuite/TestSuite.cpp (TestSuite::output): Prettier output.
	* testsuite/TestOWLParser.cpp: Likewise.

	* testsuite/TestRacerInterface.cpp (TestRacerInterface::runRacerConjQueryTest):
	New testcase for conjunctive queries.
	* testsuite/TestRacerInterface.h: Likewise.

	* examples/Makefile.am (EXTRA_DIST): Add shop+test.dlp.

	* testsuite/TestSuite.h: Introduce TestSuite base class.
	* testsuite/TestSuite.cpp: Likewise.
	* testsuite/TestRacerTypes.h: Likewise.
	* testsuite/TestRacerTypes.cpp: Likewise.
	* testsuite/TestRacerStream.h: Likewise.
	* testsuite/TestRacerStream.cpp: Likewise.
	* testsuite/TestRacerRunner.h: Likewise.
	* testsuite/TestRacerRunner.cpp: Likewise.
	* testsuite/TestRacerQuery.h: Likewise.
	* testsuite/TestRacerQuery.cpp: Likewise.
	* testsuite/TestRacerParse.h: Likewise.
	* testsuite/TestRacerParse.cpp: Likewise.
	* testsuite/TestRacerNRQL.h: Likewise.
	* testsuite/TestRacerNRQL.cpp: Likewise.
	* testsuite/TestRacerInterface.h: Likewise.
	* testsuite/TestRacerInterface.cpp: Likewise.
	* testsuite/TestRacerDirector.h: Likewise.
	* testsuite/TestRacerDirector.cpp: Likewise.
	* testsuite/TestRacerBuilder.h: Likewise.
	* testsuite/TestRacerBuilder.cpp: Likewise.
	* testsuite/TestOWLParser.h: Likewise.
	* testsuite/TestOWLParser.cpp: Likewise.
	* testsuite/TestDLRewriter.h: Likewise.
	* testsuite/TestDLRewriter.cpp: Likewise.

	* testsuite/Makefile.am (noinst_HEADERS): Add TestSuite.h.

2006-07-22  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* testsuite/run-dlvhex-tests.sh: Add code for recognizing a
	changed ordering in the answersets.

	* src/RacerQuery.cpp (Query::isConjQuery): New method.
	(Answer::addTuple,Query::setPatternTuple): Take care of anonymous
	variables.
	* include/RacerQuery.h: Likewise.

2006-07-21  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* examples/wires2.hex: Add a hex program with conj. queries.

	* testsuite/TestRacerNRQL.cpp: Assert outcome of a nRQL query.

	* include/RacerQuery.h (Query): Add preliminary conjunctive query
	support.
	* src/RacerQuery.cpp: Likewise.

	* include/RacerNRQL.h: Use boost::ptr_vector<> instead of
	std::vector<boost::shared_ptr<> >.
	* src/RacerNRQL.cpp: Likewise.
	* include/RacerQueryExpr.h: Likewise.
	* include/RacerQueryExpr.tcc: Likewise.

	* include/RacerExtAtom.h (RacerCQAtom): Add conjunctive query
	external atom.
	Add Atom suffix to the external atoms.
	* src/RacerExtAtom.cpp: Likewise.
	* src/RacerInterface.cpp: Likewise.

	* include/RacerDirector.h (RacerConjunctiveQuery): Add typedef.

	* include/RacerBuilder.h (RacerNRQLBuilder): Add nRQL retrieve
	command builder.
	* src/RacerBuilder.cpp: Likewise.

	* testsuite/run-dlvhex-tests.sh: Add dlvhex system test script.
	* testsuite/Makefile.am: Likewise.

	* examples/shop+test.dlp: Fix #namespace directive.

	* examples/Makefile.am: Add files for dlvhex system tests.
	* examples/mytests.test: Likewise.
	* examples/tests/wires.out: Likewise.
	* examples/tests/test.out: Likewise.
	* examples/tests/shop.out: Likewise.
	* examples/tests/shop-inconsistent.out: Likewise.
	* examples/tests/shop-http.out: Likewise.
	* examples/tests/shop-consistent.out: Likewise.
	* examples/tests/shop+test.out: Likewise.
	
	* README: Small version number fixes.

	* configure.ac: Bump version to 0.2.
	Don't build libdlvhex-racerplugin.a.

2006-07-17  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/Cache.h: Improve doxygen doc.
	* include/Registry.h: Likewise.
	* include/RacerQueryExpr.tcc: Likewise.
	* include/RacerInterface.h: Likewise.
	* include/RacerFlexLexer.h: Likewise.
	* include/RacerAnswerDriver.h: Likewise.
	* include/LogBuf.h: Likewise.
	* include/DLRewriter.h: Likewise.
	* src/Registry.cpp: Likewise.
	* src/RacerAnswerDriver.cpp: Likewise.
	* src/LogBuf.cpp: Likewise.
	* src/DLRewriter.cpp: Likewise.
	* src/Cache.cpp: Likewise.

	* configure.ac: Check for dlvhex >= 1.0.

	* src/OWLParser.cpp (TBoxNames): Move into dlvhex::racer
	namespace.

	* src/RacerQuery.cpp: Implement minusR.

	* include/RacerQueryExpr.h: Add some and one-of concept classes.
	* src/RacerQueryExpr.cpp: Likewise.

2006-07-11  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/Makefile.am
	(libdlvhexracer-static.la,install-static,uninstall-static): Build
	libdlvhexracer-static.so with a statically linked libACE and
	libraptor.
	(ACE_PATH,RAPTOR_PATH): Add path variables for ACE and raptor.

2006-07-10  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerQuery.cpp: Get rid of pattern tuple size in the
	typeFlags.

	* include/Cache.h: Fix doxygen documentation.
	* include/RacerQueryExpr.h: Likewise.
	* include/RacerQuery.h: Likewise.
	* include/RacerNRQL.h: Likewise.
	* include/RacerAnswerDriver.h: Likewise.
	* src/RacerNRQL.cpp: Likewise.

	* src/RacerExtAtom.cpp: Adapt to new Query interface.
	* src/RacerDirector.cpp: Likewise.
	* src/RacerBuilder.cpp: Likewise.
	* src/Cache.cpp: Likewise.
	* testsuite/TestRacerQuery.cpp: Likewise.

	* include/RacerQuery.h: Prepare support for pattern tuples with
	arity > 2.
	* src/RacerQuery.cpp: Likewise.

	* m4/doxygen.m4: Fix for newer autoconfs, see Debian Bug #368712.

2006-07-06  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/DLRewriter.h: Add dlAtoms.
	Add documentation.

	* src/DLRewriter.cpp (DLRewriter::rewrite): Throw PluginError if
	we couldn't rewrite a DL Atom.

	* src/RacerRunner.cpp: Use log instead of std::clog.
	* src/TCPStream.cpp: Likewise.

	* src/RacerInterface.cpp: Instantiate DebugCache on demand.
	Use log instead of std::clog.

	* include/RacerExtAtom.h: Use BaseCache instead of Cache.
	* src/RacerExtAtom.cpp: Likewise.
	* include/RacerInterface.h: Likewise.

	* src/LogBuf.cpp (log): New logging stream.
	Encapsulate a stream instead of a streambuf.
	* include/LogBuf.h: Likewise.

	* src/Cache.cpp (DebugCache::cacheHit): Fixed a looping bug.

	* configure.ac: Add AC_LIBTOOL_DLOPEN.

	* src/Makefile.am (libdlvhexracer_la_LDFLAGS): Add -avoid-version
	and -module, remove $(DLVHEX_LIBS).

2006-07-03  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerExtAtom.cpp (RacerCachingAtom::getCachedDirectors):
	Don't instantiate RacerDebugCachingDirector.

	* src/Makefile.am (libdlvhexracer_la_SOURCES): Add Cache.cpp.

	* include/Cache.h (BaseCache): New base class for caching classes.
	* src/Cache.cpp: Likewise.

	* include/RacerDirector.h (RacerDebugCachingDirector): Remove.
	Use BaseCache as caching class.
	Delegate cache checking to Cache and DebugCache.
	* src/RacerDirector.cpp: Likewise.

	* examples/Makefile.am (EXTRA_DIST): Fix typo.

2006-06-15  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	Release version 0.1.0.
	
	* src/RacerAnswerScanner.lpp: Adapt parser to bison 2.2/2.3. 
	* src/RacerAnswerParser.ypp: Likewise.
	* include/RacerFlexLexer.h: Likewise.
	* include/RacerAnswerDriver.h: Likewise.

	* src/Makefile.am: Check versions of bison and flex.

	* testsuite/TestRacerTypes.cpp (TestRacerTypes::runRacerSetTest):
	Fix testcase for AtomSet.

2006-06-07  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/RacerNRQL.h: Add support for specifying abox and tbox
	name.
	* src/RacerNRQL.cpp: Likewise.

	* include/RacerDirector.h: Move Cache typedef to Cache.h.
	* include/RacerExtAtom.h: Likewise.
	* include/RacerInterface.h: Likewise.
	* src/RacerExtAtom.cpp: Likewise.
	* src/RacerDirector.cpp: Likewise.

	* include/Cache.h: New file.

	* include/Makefile.am (noinst_HEADERS): Add Cache.h.

2006-05-31  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerBuilder.cpp
	(RacerIndividualDatatypeFillersBuilder::buildCommand): Use
	NRQLRetrieve to get the datatype fillers.

	* include/RacerQueryExpr.h (ABoxQueryRole): Add support for
	owl-datatype roles.
	(SameAsQuery): New query atom.
	* src/RacerQueryExpr.cpp: Likewise.

2006-05-30  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/LogBuf.cpp (LogBuf::sync): Only write if buffer is non-empty.

	* src/RacerExtAtom.cpp: Optimize command sequence, i.e. only load
	an OWL if its not already loaded.
	Use Registry.

	* include/RacerInterface.h: Use Registry.
	* include/RacerExtAtom.h: Likewise.
	* src/RacerInterface.cpp: Likewise.

	* src/Registry.cpp: New file.
	* include/Registry.h: Likewise.

	* src/Makefile.am (libdlvhexracer_la_SOURCES): Add Registry.cpp.

	* include/Makefile.am (noinst_HEADERS): Add Registry.h.

2006-05-29  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/DLRewriter.cpp: Adapt to new OWLParser interface.
	* src/RacerInterface.cpp: Likewise.
	* src/RacerQuery.cpp: Likewise.
	* testsuite/TestOWLParser.cpp: Likewise.
	* testsuite/TestOWLParser.h: Likewise.

	* include/OWLParser.h: Add exception support.
	Decouple interface from Query and Answer.
	* src/OWLParser.cpp: Likewise.

2006-05-24  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerExtAtom.cpp: Use RacerInterface::startRacer() instead
	of RacerRuner::run().
	Use RacerInterface::PropertyMap.
	* include/RacerExtAtom.h: Likewise.

	* src/TCPStream.cpp: Use std::clog for logging sent/received
	messages.
	* src/RacerRunner.cpp: Likewise.

	* src/RacerDirector.cpp (RacerDebugCachingDirector): Use std::cerr
	instead of std::cout.

	* README: Document ACE + autoconf scheme.
	Add some installation hints for boost.

	* configure.ac: Bail out if ACE is not found.
	Use ACE.pc and fall back to ACE.m4 if we couldn't find it.

	* m4/ace.m4: Add HAVE_ACE variable.
	Use ACE_CFLAGS instead of ACE_CPPFLAGS.

	* testsuite/TestRacerInterface.cpp: Call
	RacerInterface::setOptions.

	* include/RacerInterface.h (RacerInterface::startRacer): Run Racer
	and setup stream.
	Add PropertyMap.

	* src/RacerInterface.cpp (RacerInterface::setOptions): Setup
	std::clog for LogBuf logging.
	(RacerInterface::startRacer): Run Racer and setup stream.
	
	* src/Makefile.am (libdlvhexracer_la_SOURCES): Add LogBuf.cpp.
	* include/Makefile.am (noinst_HEADERS): Add LogBuf.h.

	* include/LogBuf.h: New file.
	* src/LogBuf.cpp: Likewise.

2006-05-17  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* testsuite/TestRacerParse.cpp: Use file:// instead of file:.

	* src/RacerAnswerScanner.lpp: Resemble the URI ABNF given in
	RFC3986.

	* src/RacerAnswerParser.ypp: Accommodate grammar to use the new
	URI token instead of the weak grammar for parsing an URI.

2006-05-15  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerInterface.cpp (RacerInterface::setOptions): Setup
	property map for the atoms.
	
	* src/RacerExtAtom.cpp (RacerCachingAtom::getCachedDirectors):
	Consult property map whether user wants verbose output.

	* include/RacerExtAtom.h: Add a reference to a property map.

	* include/RacerInterface.h: Add a property map.

2006-05-12  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/DLRewriter.cpp (DLRewriter::rewrite): Register auxiliary names.

	* src/TCPStream.cpp (TCPStreamBuf::sync, TCPStreamBuf::open): Add
	"Couldn't open connection" and "Couldn't send" exceptions.

	* src/RacerRunner.cpp (RacerRunnerAdaptee::run): Add "Command not
	found" exception.

2006-05-06  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/TCPStream.cpp (TCPIOStream::TCPIOStream): Turn on exception
	handling.
	(TCPStreamBuf::underflow): Throw std::ios_base::failure when peer
	prematurely closes the connection.

	* src/RacerAnswerDriver.cpp (RacerAnswerDriver::parse)
	(RacerIgnoreAnswer::parse): Catch std::ios_base::failure.

2006-05-05  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerQuery.cpp (Query::createPremise): Add preliminary
	workaround for Racer bug.

	* include/RacerDirector.tcc
	(RacerDirector<Builder,Parser>::query): Don't parse an answer if
	Builder didn't build.

	* include/RacerBuilder.h (RacerBuilder::buildCommand): Use bool
	return value to indicate if we actually sent a command.
	* src/RacerBuilder.cpp (RacerStateBuilder::buildCommand): Return
	false if state command would be empty.

	* src/TCPStream.cpp (TCPStreamBuf::open): Don't use
	ACE_Countdown_Time.

2006-05-04  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/DLRewriter.cpp: Use input/output streams of PluginRewriter.
	* include/DLRewriter.h: Likewise.
	
2006-05-02  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/DLRewriter.cpp (DLRewriter::rewrite): Don't rewrite if uri
	is empty.

	* examples/wires.owl: New file.

	* examples/wires.hex: New file.

	* src/RacerRunner.cpp (RacerRunnerAdaptee::run): Create pipe to
	Racer and parse stdout,stderr for error messages.

	* include/TCPStream.h (TCPIOStream): Use std::iostream::rdfbuf() for our streambuf.
	* src/TCPStream.cpp (TCPIOStream): Likewise.

	* include/RacerInterface.h (RacerInterface::setOptions): Use std::vector argv.
	* src/RacerInterface.cpp (RacerInterface::setOptions): Likewise.

2006-04-29  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/DLRewriter.cpp: Improve documentation.

	* src/RacerInterface.cpp (RacerInterface::createRewriter): Enable
	rewriter.
	(RacerInterface::setOptions): Fix --ontology parsing.

2006-04-28  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/dl-rewriter: Remove.
	* src/Makefile.am: Remove dl-rewriter.

	* examples/tweety_bird.owl: Use default namespace
	http://www.kr.tuwien.ac.at/staff/roman/tweety_bird#.

	* examples/dl-shop.dlp: New file.

	* testsuite/TestDLRewriter.cpp (TestDLRewriter::runDLNoRewrite):
	DLRewriter must not rewrite HEX programs.
	(TestDLRewriter::runDLRewrite): Add dl-shop.dlp testcase.
	* testsuite/TestDLRewriter.h: Likewise.

	* src/DLRewriter.cpp (DLRewriter::rewriteConcept): Strip whitespaces.
	(DLRewriter::filterInput): DL rewriting should work now.
	* include/DLRewriter.h: Likewise.

2006-04-27  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerInterface.cpp (RacerInterface::createRewriter): Disable
	DLRewriter.

	* src/DLRewriter.cpp: Remove regexp code, let's do it ourselves.
	* include/DLRewriter.h: Likewise.

	* examples/Makefile.am: Add tweety_bird.owl, tweety_bird.dlp.

	* testsuite/Makefile.am: Add TestDLRewriter.cpp, TestDLRewriter.h.

	* examples/tweety_bird.dlp: New file.
	* examples/tweety_bird.owl: Likewise.
	* testsuite/TestDLRewriter.cpp: Likewise.
	* testsuite/TestDLRewriter.h: Likewise.

2006-04-26  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>
	
	* src/DLRewriter.cpp: New file.
	Some updates, currently non-working.
	* include/DLRewriter.h: Likewise.

	* src/RacerRunner.cpp (RacerRunner::isRunning)
	(RacerRunner::setPort, RacerRunner::getPort): New methods.
	(RacerRunner::run): Don't check for running Racer processes.
	(RacerRunner::run): Try to start Racer with a new port number.
	* include/RacerRunner.h: Likewise.

	* include/TCPStream.h (TCPIOStream::setConnection): New method.
	* src/TCPStream.cpp: Likewise.

	* src/RacerInterface.cpp (RacerInterface::getStream): New method.
	* include/RacerInterface.h: Likewise.

	* src/RacerExtAtom.cpp: Add kb-ontologies command.
	(RacerExtAtom::retrieve): Reset stream after starting Racer.
	* include/RacerBuilder.h: Likewise.
	Fix documentation.

2006-04-25  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/Makefile.am (noinst_HEADERS): Add DLRewriter.h.

	* src/Makefile.am (bin_SCRIPTS): Add dl-rewriter.
	Add DLRewriter.cpp.

	* src/OWLParser.cpp (OWLParser::parseNames): Parse concept and
	role names.
	* include/OWLParser.h: Likewise.

	* src/RacerInterface.cpp: Add DLRewriter.
	* include/RacerInterface.h: Likewise.

	* src/dl-rewriter: New file.

2006-04-24  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/Makefile.am (noinst_HEADERS): Add RacerQueryExpr.h and
	RacerQueryExpr.tcc.

2006-04-21  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerInterface.cpp (RacerInterface::~RacerInterface): Don't
	delete cache entries, they are managed shared_ptr's now.
	(RacerInterface::setOptions): New method.
	* include/RacerInterface.h: Likewise.

2006-04-19  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/RacerQuery.h (QueryCtx): Add a Ctor for PluginAtom::Query.
	* src/RacerQuery.cpp: Likewise.

	* include/RacerExtAtom.h (RacerExtAtom::setupQuery): Remove.
	* src/RacerExtAtom.cpp: Likewise.

	* src/RacerQuery.cpp (Query::createHead): Simplify code.

	* src/RacerBuilder.cpp: Use the interpreters of RacerQueryExpr to
	build the commands.

	* include/RacerBuilder.h (RacerBuilder::createName): Remove.

	* include/RacerQueryExpr.tcc: New file.

	* include/RacerNRQL.h: Move operator<< to RacerQueryExpr.tcc.
	* src/RacerNRQL.cpp: Likewise.

	* src/RacerQueryExpr.cpp (ABoxInvertedRole): New class.
	* include/RacerQueryExpr.h: Likewise.

2006-04-18  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/RacerQueryExpr.h (~QueryExpr): Add virtual dtor.

	* m4/boost.m4: OLD_CXX_FLAGS != OLD_CXXFLAGS.

	* include/RacerNRQL.h: Publish operator<< for std::vector of
	boost::shared_ptr's.

	* src/RacerQueryExpr.cpp: Move code of RacerQueryExpr.h here.
	* include/RacerQueryExpr.h: Likewise.

	* src/Makefile.am (libdlvhexracer_la_SOURCES): Add RacerQueryExpr.cpp.

	* src/RacerQuery.cpp (Query::createBody, Query::createHead)
	(Query::createPremise): Construct lists of the corresponding query
	expressions.
	* include/RacerQuery.h: Likewise.

	* src/RacerBuilder.cpp (RacerStateBuilder::buildCommand): Use
	Query::createPremise() for building the state command.
	* include/RacerBuilder.h: Likewise.

	* src/RacerNRQL.cpp: Add documentation.
	Refine class hierarchy.
	* include/RacerNRQL.h: Likewise.
	
	* include/RacerQueryExpr.h: Add documentation.
	Refine class hierarchy.
	Add support for namespace identifier and different types of variables.

