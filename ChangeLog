2006-08-04  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* testsuite/TestRacerQuery.cpp: Use AtomSet instead of Interpretation. 
	* testsuite/TestRacerNRQL.cpp: Likewise. 
	* testsuite/TestRacerInterface.cpp: Likewise. 
	* testsuite/TestRacerDirector.cpp: Likewise. 
	* testsuite/TestRacerBuilder.cpp: Likewise. 

	* src/HexDLRewriterScanner.lpp: Add support for naf extatoms.
	* src/HexDLRewriterParser.ypp: Likewise.

	* src/RacerDirector.cpp (RacerCompositeDirector): Use
	boost::ptr_vector<> instead of std::vector<>.
	* include/RacerDirector.h: Likewise.

	* src/QueryCtx.cpp (QueryCtx::QueryCtx): Always insert namespace
	into query term.

	* include/Query.h (Query::getProjectedInterpretation): New method.
	
	* src/Query.cpp (Query::isSubseteq): Use projected interpretation.
	Fix operator< and operator==.

	* include/Cache.h: Better debugging output.

	* src/Cache.cpp: Use projected interpretation.
	
2006-08-03  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/Makefile.am (noinst_HEADERS): Add Answer.h, Query.h and
	QueryCtx.h.

	* src/Makefile.am (libdlvhexracer_la_SOURCES): Add Answer.cpp,
	Query.cpp and QueryCtx.cpp.

	* include/RacerQuery.h: Remove.
	* src/RacerQuery.cpp: Likewise.

	* include/Answer.h: Split RacerQuery into Answer, Query, DLQuery and
	QueryCtx.
	* include/Query.h: Likewise.
	* include/QueryCtx.h: Likewise.
	* include/RacerNRQLBuilder.h: Likewise.
	* include/RacerNRQL.tcc: Likewise.
	* include/RacerNRQL.h: Likewise.
	* include/RacerExtAtom.h: Likewise.
	* include/RacerDirector.h: Likewise.
	* include/RacerBuilder.h: Likewise.
	* include/RacerAnswerDriver.h: Likewise.
	* include/Cache.h: Likewise.
	* src/QueryCtx.cpp: Likewise.
	* src/Query.cpp: Likewise.
	* src/Answer.cpp: Likewise.
	* src/RacerNRQLBuilder.cpp: Likewise.
	* src/RacerExtAtom.cpp: Likewise.
	* src/RacerDirector.cpp: Likewise.
	* src/RacerBuilder.cpp: Likewise.
	* src/RacerAnswerParser.ypp: Likewise.
	* src/RacerAnswerDriver.cpp: Likewise.
	* src/Cache.cpp: Likewise.
	* testsuite/TestRacerQuery.cpp: Likewise.
	* testsuite/TestRacerParse.cpp: Likewise.
	* testsuite/TestRacerNRQL.cpp: Likewise.
	* testsuite/TestRacerDirector.cpp: Likewise.
	* testsuite/TestRacerBuilder.cpp: Likewise.

2006-08-02  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/RacerQuery.h: Add support for Racer warning messages.
	* src/RacerExtAtom.cpp: Likewise.
	* src/RacerAnswerScanner.lpp: Likewise.

	* src/RacerQuery.cpp (Answer::addTuple): In case of boolean
	answers we add the pattern tuple as output.

	* src/RacerNRQLBuilder.cpp (NRQLBuilder::createHead): Always
	create individuals with namespace.

	* src/RacerAnswerParser.ypp: Add workaround for a Racer bug in
	nRQL answers.
	In case of a boolean answers we just add an empty Tuple and let
	Answer handle it.
	
2006-08-01  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/HexDLRewriterFlexLexer.h: Fix documentation.
	* include/RacerFlexLexer.h: Likewise.
	* include/RacerQuery.h: Likewise.

	* src/RacerQuery.cpp: Add support for negated concept expressions.
	* src/RacerNRQLBuilder.cpp: Likewise.
	
	* include/RacerInterface.h: Move plugin overview to
	documentation.dox.
	* documentation.dox: Likewise.

	* Makefile.am (EXTRA_DIST): Add documentation.dox.

	* doxygen.cfg: Use *.dox file for documentation purposes.

2006-07-31  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* examples/Makefile.am (EXTRA_DIST): Add dl-shop.dlp and
	shop-http.dlp.

	* src/HexDLRewriterParser.ypp: Add support for rewriting
	dl-atoms/cq-atoms.
	* src/HexDLRewriterScanner.lpp: Likewise.
	* testsuite/TestDLRewriter.cpp: Likewise.

	* include/HexDLRewriterDriver.h: Let the HexDLRewriter bison
	parser rewrite those dl-atoms/cq-atoms.
	* src/HexDLRewriterDriver.cpp: Likewise.

	* src/Makefile.am (EXTRA_DIST): Add generated HexDLRewriter
	scanner and parser.
	(libdlvhexracer_la_SOURCES): Add HexDLRewriterParser.ypp.

	* include/RacerInterface.h (RacerInterface::setOptions): Add
	support for help and debug output.
	Remove Registry member.
	* src/RacerInterface.cpp: Likewise.
	* testsuite/TestRacerInterface.cpp: Likewise.

	* include/Registry.h (Registry): Use static methods.
	* include/RacerExtAtom.h: Likewise.
	* src/RacerAnswerDriver.cpp: Likewise.
	* src/RacerExtAtom.cpp: Likewise.
	* src/Registry.cpp: Likewise.

	* include/RacerFlexLexer.h: Use yyRacerFlexLexer instead of
	yyFlexLexer.
	* src/RacerAnswerScanner.lpp: Likewise.

	* include/HexDLRewriterFlexLexer.h: Use yyHexFlexLexer instead of
	zzFlexLexer.

	* include/RacerNRQLBuilder.h: Add documentation.

	* src/RacerNRQLBuilder.cpp: Stream the queries at once.
	* src/RacerBuilder.cpp: Likewise.

2006-07-27  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/Makefile.am (libdlvhexracer_la_SOURCES): Add
	RacerNRQLBuilder.cpp.

	* include/RacerNRQLBuilder.h: Move NRQL code from RacerQuery to
	RacerNRQLBuilder.
	* src/RacerNRQLBuilder.cpp: Likewise.
	* include/RacerQuery.h: Likewise.
	* src/RacerQuery.cpp: Likewise.

	* include/RacerNRQL.h: Refactor to RacerNRQLBuilder.
	* include/RacerNRQL.tcc: Likewise.
	* src/RacerNRQL.cpp: Likewise.
	* src/RacerBuilder.cpp: Likewise.
	* testsuite/TestRacerNRQL.cpp: Likewise.

	* include/Makefile.am (noinst_HEADERS): Add RacerNRQLBuilder.h and
	RacerNRQL.tcc.

	* include/RacerQueryExpr.tcc: Use boost::indirect_iterator<>
	instead of homemade Dereference functor.

	* src/RacerQuery.cpp (QueryCtx::QueryCtx): Always quote predicate
	names in conjunctive queries.

2006-07-26  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerExtAtom.cpp (RacerExtAtom::retrieve): Catch
	std::exception instead of RacerError.

	* examples/wires2.hex: Use the convinient syntax for &dlCQ
	external atoms.

	* src/RacerQuery.cpp (QueryCtx::QueryCtx): Determine the namespace
	prefix in CQs and exchange the abbreviated names by the
	corresponding fully-fledged URI.
	(AtomSeparator::operator()): Parse whitespaces.

	* testsuite/TestDLRewriter.cpp: Add CQ rewriter testcase.

	* src/HexDLRewriterDriver.cpp (HexDLRewriterDriver::rewriteCQAtom):
	New callback for the scanner.
	* include/HexDLRewriterDriver.h: Likewise.

	* src/HexDLRewriterScanner.lpp: Add &dlCQ atom rewriter.

2006-07-25  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerAnswerDriver.cpp (RacerBaseAnswerDriver::getLexer): Add
	const modifier.
	* include/RacerAnswerDriver.h: Likewise.

	* src/RacerQuery.cpp (QueryCtx::QueryCtx): Use const_iterator
	instead of iterator.

	* include/DLRewriter.h: Remove.
	* src/DLRewriter.cpp: Likewise.

	* src/HexDLRewriterDriver.cpp: Move DLRewriter to HexDLRewriter
	and use flex / boost::tokenizer<> for the actual parsing process.
	* src/HexDLRewriterScanner.lpp: Likewise.
	* src/Makefile.am: Likewise.
	* src/RacerInterface.cpp: Likewise.
	* include/Makefile.am: Likewise.
	* include/HexDLRewriterFlexLexer.h: Likewise.
	* include/HexDLRewriterDriver.h: Likewise.
	* include/RacerInterface.h: Likewise.
	* testsuite/TestDLRewriter.cpp: Likewise.
	* testsuite/TestDLRewriter.h: Likewise.

2006-07-23  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/DLRewriter.h: Use boost::ptr_vector<RewriteRule> instead
	of std::vector<boost::shared_ptr<RewriteRule> >.
	* src/DLRewriter.cpp: Likewise.

	* testsuite/TestSuite.cpp (TestSuite::output): Prettier output.
	* testsuite/TestOWLParser.cpp: Likewise.

	* testsuite/TestRacerInterface.cpp (TestRacerInterface::runRacerConjQueryTest):
	New testcase for conjunctive queries.
	* testsuite/TestRacerInterface.h: Likewise.

	* examples/Makefile.am (EXTRA_DIST): Add shop+test.dlp.

	* testsuite/TestSuite.h: Introduce TestSuite base class.
	* testsuite/TestSuite.cpp: Likewise.
	* testsuite/TestRacerTypes.h: Likewise.
	* testsuite/TestRacerTypes.cpp: Likewise.
	* testsuite/TestRacerStream.h: Likewise.
	* testsuite/TestRacerStream.cpp: Likewise.
	* testsuite/TestRacerRunner.h: Likewise.
	* testsuite/TestRacerRunner.cpp: Likewise.
	* testsuite/TestRacerQuery.h: Likewise.
	* testsuite/TestRacerQuery.cpp: Likewise.
	* testsuite/TestRacerParse.h: Likewise.
	* testsuite/TestRacerParse.cpp: Likewise.
	* testsuite/TestRacerNRQL.h: Likewise.
	* testsuite/TestRacerNRQL.cpp: Likewise.
	* testsuite/TestRacerInterface.h: Likewise.
	* testsuite/TestRacerInterface.cpp: Likewise.
	* testsuite/TestRacerDirector.h: Likewise.
	* testsuite/TestRacerDirector.cpp: Likewise.
	* testsuite/TestRacerBuilder.h: Likewise.
	* testsuite/TestRacerBuilder.cpp: Likewise.
	* testsuite/TestOWLParser.h: Likewise.
	* testsuite/TestOWLParser.cpp: Likewise.
	* testsuite/TestDLRewriter.h: Likewise.
	* testsuite/TestDLRewriter.cpp: Likewise.

	* testsuite/Makefile.am (noinst_HEADERS): Add TestSuite.h.

2006-07-22  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* testsuite/run-dlvhex-tests.sh: Add code for recognizing a
	changed ordering in the answersets.

	* src/RacerQuery.cpp (Query::isConjQuery): New method.
	(Answer::addTuple,Query::setPatternTuple): Take care of anonymous
	variables.
	* include/RacerQuery.h: Likewise.

2006-07-21  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* examples/wires2.hex: Add a hex program with conj. queries.

	* testsuite/TestRacerNRQL.cpp: Assert outcome of a nRQL query.

	* include/RacerQuery.h (Query): Add preliminary conjunctive query
	support.
	* src/RacerQuery.cpp: Likewise.

	* include/RacerNRQL.h: Use boost::ptr_vector<> instead of
	std::vector<boost::shared_ptr<> >.
	* src/RacerNRQL.cpp: Likewise.
	* include/RacerQueryExpr.h: Likewise.
	* include/RacerQueryExpr.tcc: Likewise.

	* include/RacerExtAtom.h (RacerCQAtom): Add conjunctive query
	external atom.
	Add Atom suffix to the external atoms.
	* src/RacerExtAtom.cpp: Likewise.
	* src/RacerInterface.cpp: Likewise.

	* include/RacerDirector.h (RacerConjunctiveQuery): Add typedef.

	* include/RacerBuilder.h (RacerNRQLBuilder): Add nRQL retrieve
	command builder.
	* src/RacerBuilder.cpp: Likewise.

	* testsuite/run-dlvhex-tests.sh: Add dlvhex system test script.
	* testsuite/Makefile.am: Likewise.

	* examples/shop+test.dlp: Fix #namespace directive.

	* examples/Makefile.am: Add files for dlvhex system tests.
	* examples/mytests.test: Likewise.
	* examples/tests/wires.out: Likewise.
	* examples/tests/test.out: Likewise.
	* examples/tests/shop.out: Likewise.
	* examples/tests/shop-inconsistent.out: Likewise.
	* examples/tests/shop-http.out: Likewise.
	* examples/tests/shop-consistent.out: Likewise.
	* examples/tests/shop+test.out: Likewise.
	
	* README: Small version number fixes.

	* configure.ac: Bump version to 0.2.
	Don't build libdlvhex-racerplugin.a.

2006-07-17  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/Cache.h: Improve doxygen doc.
	* include/Registry.h: Likewise.
	* include/RacerQueryExpr.tcc: Likewise.
	* include/RacerInterface.h: Likewise.
	* include/RacerFlexLexer.h: Likewise.
	* include/RacerAnswerDriver.h: Likewise.
	* include/LogBuf.h: Likewise.
	* include/DLRewriter.h: Likewise.
	* src/Registry.cpp: Likewise.
	* src/RacerAnswerDriver.cpp: Likewise.
	* src/LogBuf.cpp: Likewise.
	* src/DLRewriter.cpp: Likewise.
	* src/Cache.cpp: Likewise.

	* configure.ac: Check for dlvhex >= 1.0.

	* src/OWLParser.cpp (TBoxNames): Move into dlvhex::racer
	namespace.

	* src/RacerQuery.cpp: Implement minusR.

	* include/RacerQueryExpr.h: Add some and one-of concept classes.
	* src/RacerQueryExpr.cpp: Likewise.

2006-07-11  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/Makefile.am
	(libdlvhexracer-static.la,install-static,uninstall-static): Build
	libdlvhexracer-static.so with a statically linked libACE and
	libraptor.
	(ACE_PATH,RAPTOR_PATH): Add path variables for ACE and raptor.

2006-07-10  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerQuery.cpp: Get rid of pattern tuple size in the
	typeFlags.

	* include/Cache.h: Fix doxygen documentation.
	* include/RacerQueryExpr.h: Likewise.
	* include/RacerQuery.h: Likewise.
	* include/RacerNRQL.h: Likewise.
	* include/RacerAnswerDriver.h: Likewise.
	* src/RacerNRQL.cpp: Likewise.

	* src/RacerExtAtom.cpp: Adapt to new Query interface.
	* src/RacerDirector.cpp: Likewise.
	* src/RacerBuilder.cpp: Likewise.
	* src/Cache.cpp: Likewise.
	* testsuite/TestRacerQuery.cpp: Likewise.

	* include/RacerQuery.h: Prepare support for pattern tuples with
	arity > 2.
	* src/RacerQuery.cpp: Likewise.

	* m4/doxygen.m4: Fix for newer autoconfs, see Debian Bug #368712.

2006-07-06  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/DLRewriter.h: Add dlAtoms.
	Add documentation.

	* src/DLRewriter.cpp (DLRewriter::rewrite): Throw PluginError if
	we couldn't rewrite a DL Atom.

	* src/RacerRunner.cpp: Use log instead of std::clog.
	* src/TCPStream.cpp: Likewise.

	* src/RacerInterface.cpp: Instantiate DebugCache on demand.
	Use log instead of std::clog.

	* include/RacerExtAtom.h: Use BaseCache instead of Cache.
	* src/RacerExtAtom.cpp: Likewise.
	* include/RacerInterface.h: Likewise.

	* src/LogBuf.cpp (log): New logging stream.
	Encapsulate a stream instead of a streambuf.
	* include/LogBuf.h: Likewise.

	* src/Cache.cpp (DebugCache::cacheHit): Fixed a looping bug.

	* configure.ac: Add AC_LIBTOOL_DLOPEN.

	* src/Makefile.am (libdlvhexracer_la_LDFLAGS): Add -avoid-version
	and -module, remove $(DLVHEX_LIBS).

2006-07-03  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerExtAtom.cpp (RacerCachingAtom::getCachedDirectors):
	Don't instantiate RacerDebugCachingDirector.

	* src/Makefile.am (libdlvhexracer_la_SOURCES): Add Cache.cpp.

	* include/Cache.h (BaseCache): New base class for caching classes.
	* src/Cache.cpp: Likewise.

	* include/RacerDirector.h (RacerDebugCachingDirector): Remove.
	Use BaseCache as caching class.
	Delegate cache checking to Cache and DebugCache.
	* src/RacerDirector.cpp: Likewise.

	* examples/Makefile.am (EXTRA_DIST): Fix typo.

2006-06-15  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerAnswerScanner.lpp: Adapt parser to bison 2.2/2.3. 
	* src/RacerAnswerParser.ypp: Likewise.
	* include/RacerFlexLexer.h: Likewise.
	* include/RacerAnswerDriver.h: Likewise.

	* src/Makefile.am: Check versions of bison and flex.

	* testsuite/TestRacerTypes.cpp (TestRacerTypes::runRacerSetTest):
	Fix testcase for AtomSet.

2006-06-07  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/RacerNRQL.h: Add support for specifying abox and tbox
	name.
	* src/RacerNRQL.cpp: Likewise.

	* include/RacerDirector.h: Move Cache typedef to Cache.h.
	* include/RacerExtAtom.h: Likewise.
	* include/RacerInterface.h: Likewise.
	* src/RacerExtAtom.cpp: Likewise.
	* src/RacerDirector.cpp: Likewise.

	* include/Cache.h: New file.

	* include/Makefile.am (noinst_HEADERS): Add Cache.h.

2006-05-31  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerBuilder.cpp
	(RacerIndividualDatatypeFillersBuilder::buildCommand): Use
	NRQLRetrieve to get the datatype fillers.

	* include/RacerQueryExpr.h (ABoxQueryRole): Add support for
	owl-datatype roles.
	(SameAsQuery): New query atom.
	* src/RacerQueryExpr.cpp: Likewise.

2006-05-30  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/LogBuf.cpp (LogBuf::sync): Only write if buffer is non-empty.

	* src/RacerExtAtom.cpp: Optimize command sequence, i.e. only load
	an OWL if its not already loaded.
	Use Registry.

	* include/RacerInterface.h: Use Registry.
	* include/RacerExtAtom.h: Likewise.
	* src/RacerInterface.cpp: Likewise.

	* src/Registry.cpp: New file.
	* include/Registry.h: Likewise.

	* src/Makefile.am (libdlvhexracer_la_SOURCES): Add Registry.cpp.

	* include/Makefile.am (noinst_HEADERS): Add Registry.h.

2006-05-29  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/DLRewriter.cpp: Adapt to new OWLParser interface.
	* src/RacerInterface.cpp: Likewise.
	* src/RacerQuery.cpp: Likewise.
	* testsuite/TestOWLParser.cpp: Likewise.
	* testsuite/TestOWLParser.h: Likewise.

	* include/OWLParser.h: Add exception support.
	Decouple interface from Query and Answer.
	* src/OWLParser.cpp: Likewise.

2006-05-24  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerExtAtom.cpp: Use RacerInterface::startRacer() instead
	of RacerRuner::run().
	Use RacerInterface::PropertyMap.
	* include/RacerExtAtom.h: Likewise.

	* src/TCPStream.cpp: Use std::clog for logging sent/received
	messages.
	* src/RacerRunner.cpp: Likewise.

	* src/RacerDirector.cpp (RacerDebugCachingDirector): Use std::cerr
	instead of std::cout.

	* README: Document ACE + autoconf scheme.
	Add some installation hints for boost.

	* configure.ac: Bail out if ACE is not found.
	Use ACE.pc and fall back to ACE.m4 if we couldn't find it.

	* m4/ace.m4: Add HAVE_ACE variable.
	Use ACE_CFLAGS instead of ACE_CPPFLAGS.

	* testsuite/TestRacerInterface.cpp: Call
	RacerInterface::setOptions.

	* include/RacerInterface.h (RacerInterface::startRacer): Run Racer
	and setup stream.
	Add PropertyMap.

	* src/RacerInterface.cpp (RacerInterface::setOptions): Setup
	std::clog for LogBuf logging.
	(RacerInterface::startRacer): Run Racer and setup stream.
	
	* src/Makefile.am (libdlvhexracer_la_SOURCES): Add LogBuf.cpp.
	* include/Makefile.am (noinst_HEADERS): Add LogBuf.h.

	* include/LogBuf.h: New file.
	* src/LogBuf.cpp: Likewise.

2006-05-17  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* testsuite/TestRacerParse.cpp: Use file:// instead of file:.

	* src/RacerAnswerScanner.lpp: Resemble the URI ABNF given in
	RFC3986.

	* src/RacerAnswerParser.ypp: Accommodate grammar to use the new
	URI token instead of the weak grammar for parsing an URI.

2006-05-15  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerInterface.cpp (RacerInterface::setOptions): Setup
	property map for the atoms.
	
	* src/RacerExtAtom.cpp (RacerCachingAtom::getCachedDirectors):
	Consult property map whether user wants verbose output.

	* include/RacerExtAtom.h: Add a reference to a property map.

	* include/RacerInterface.h: Add a property map.

2006-05-12  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/DLRewriter.cpp (DLRewriter::rewrite): Register auxiliary names.

	* src/TCPStream.cpp (TCPStreamBuf::sync, TCPStreamBuf::open): Add
	"Couldn't open connection" and "Couldn't send" exceptions.

	* src/RacerRunner.cpp (RacerRunnerAdaptee::run): Add "Command not
	found" exception.

2006-05-06  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/TCPStream.cpp (TCPIOStream::TCPIOStream): Turn on exception
	handling.
	(TCPStreamBuf::underflow): Throw std::ios_base::failure when peer
	prematurely closes the connection.

	* src/RacerAnswerDriver.cpp (RacerAnswerDriver::parse)
	(RacerIgnoreAnswer::parse): Catch std::ios_base::failure.

2006-05-05  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerQuery.cpp (Query::createPremise): Add preliminary
	workaround for Racer bug.

	* include/RacerDirector.tcc
	(RacerDirector<Builder,Parser>::query): Don't parse an answer if
	Builder didn't build.

	* include/RacerBuilder.h (RacerBuilder::buildCommand): Use bool
	return value to indicate if we actually sent a command.
	* src/RacerBuilder.cpp (RacerStateBuilder::buildCommand): Return
	false if state command would be empty.

	* src/TCPStream.cpp (TCPStreamBuf::open): Don't use
	ACE_Countdown_Time.

2006-05-04  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/DLRewriter.cpp: Use input/output streams of PluginRewriter.
	* include/DLRewriter.h: Likewise.
	
2006-05-02  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/DLRewriter.cpp (DLRewriter::rewrite): Don't rewrite if uri
	is empty.

	* examples/wires.owl: New file.

	* examples/wires.hex: New file.

	* src/RacerRunner.cpp (RacerRunnerAdaptee::run): Create pipe to
	Racer and parse stdout,stderr for error messages.

	* include/TCPStream.h (TCPIOStream): Use std::iostream::rdfbuf() for our streambuf.
	* src/TCPStream.cpp (TCPIOStream): Likewise.

	* include/RacerInterface.h (RacerInterface::setOptions): Use std::vector argv.
	* src/RacerInterface.cpp (RacerInterface::setOptions): Likewise.

2006-04-29  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/DLRewriter.cpp: Improve documentation.

	* src/RacerInterface.cpp (RacerInterface::createRewriter): Enable
	rewriter.
	(RacerInterface::setOptions): Fix --ontology parsing.

2006-04-28  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/dl-rewriter: Remove.
	* src/Makefile.am: Remove dl-rewriter.

	* examples/tweety_bird.owl: Use default namespace
	http://www.kr.tuwien.ac.at/staff/roman/tweety_bird#.

	* examples/dl-shop.dlp: New file.

	* testsuite/TestDLRewriter.cpp (TestDLRewriter::runDLNoRewrite):
	DLRewriter must not rewrite HEX programs.
	(TestDLRewriter::runDLRewrite): Add dl-shop.dlp testcase.
	* testsuite/TestDLRewriter.h: Likewise.

	* src/DLRewriter.cpp (DLRewriter::rewriteConcept): Strip whitespaces.
	(DLRewriter::filterInput): DL rewriting should work now.
	* include/DLRewriter.h: Likewise.

2006-04-27  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerInterface.cpp (RacerInterface::createRewriter): Disable
	DLRewriter.

	* src/DLRewriter.cpp: Remove regexp code, let's do it ourselves.
	* include/DLRewriter.h: Likewise.

	* examples/Makefile.am: Add tweety_bird.owl, tweety_bird.dlp.

	* testsuite/Makefile.am: Add TestDLRewriter.cpp, TestDLRewriter.h.

	* examples/tweety_bird.dlp: New file.
	* examples/tweety_bird.owl: Likewise.
	* testsuite/TestDLRewriter.cpp: Likewise.
	* testsuite/TestDLRewriter.h: Likewise.

2006-04-26  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>
	
	* src/DLRewriter.cpp: New file.
	Some updates, currently non-working.
	* include/DLRewriter.h: Likewise.

	* src/RacerRunner.cpp (RacerRunner::isRunning)
	(RacerRunner::setPort, RacerRunner::getPort): New methods.
	(RacerRunner::run): Don't check for running Racer processes.
	(RacerRunner::run): Try to start Racer with a new port number.
	* include/RacerRunner.h: Likewise.

	* include/TCPStream.h (TCPIOStream::setConnection): New method.
	* src/TCPStream.cpp: Likewise.

	* src/RacerInterface.cpp (RacerInterface::getStream): New method.
	* include/RacerInterface.h: Likewise.

	* src/RacerExtAtom.cpp: Add kb-ontologies command.
	(RacerExtAtom::retrieve): Reset stream after starting Racer.
	* include/RacerBuilder.h: Likewise.
	Fix documentation.

2006-04-25  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/Makefile.am (noinst_HEADERS): Add DLRewriter.h.

	* src/Makefile.am (bin_SCRIPTS): Add dl-rewriter.
	Add DLRewriter.cpp.

	* src/OWLParser.cpp (OWLParser::parseNames): Parse concept and
	role names.
	* include/OWLParser.h: Likewise.

	* src/RacerInterface.cpp: Add DLRewriter.
	* include/RacerInterface.h: Likewise.

	* src/dl-rewriter: New file.

2006-04-24  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/Makefile.am (noinst_HEADERS): Add RacerQueryExpr.h and
	RacerQueryExpr.tcc.

2006-04-21  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerInterface.cpp (RacerInterface::~RacerInterface): Don't
	delete cache entries, they are managed shared_ptr's now.
	(RacerInterface::setOptions): New method.
	* include/RacerInterface.h: Likewise.

2006-04-19  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/RacerQuery.h (QueryCtx): Add a Ctor for PluginAtom::Query.
	* src/RacerQuery.cpp: Likewise.

	* include/RacerExtAtom.h (RacerExtAtom::setupQuery): Remove.
	* src/RacerExtAtom.cpp: Likewise.

	* src/RacerQuery.cpp (Query::createHead): Simplify code.

	* src/RacerBuilder.cpp: Use the interpreters of RacerQueryExpr to
	build the commands.

	* include/RacerBuilder.h (RacerBuilder::createName): Remove.

	* include/RacerQueryExpr.tcc: New file.

	* include/RacerNRQL.h: Move operator<< to RacerQueryExpr.tcc.
	* src/RacerNRQL.cpp: Likewise.

	* src/RacerQueryExpr.cpp (ABoxInvertedRole): New class.
	* include/RacerQueryExpr.h: Likewise.

2006-04-18  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/RacerQueryExpr.h (~QueryExpr): Add virtual dtor.

	* m4/boost.m4: OLD_CXX_FLAGS != OLD_CXXFLAGS.

	* include/RacerNRQL.h: Publish operator<< for std::vector of
	boost::shared_ptr's.

	* src/RacerQueryExpr.cpp: Move code of RacerQueryExpr.h here.
	* include/RacerQueryExpr.h: Likewise.

	* src/Makefile.am (libdlvhexracer_la_SOURCES): Add RacerQueryExpr.cpp.

	* src/RacerQuery.cpp (Query::createBody, Query::createHead)
	(Query::createPremise): Construct lists of the corresponding query
	expressions.
	* include/RacerQuery.h: Likewise.

	* src/RacerBuilder.cpp (RacerStateBuilder::buildCommand): Use
	Query::createPremise() for building the state command.
	* include/RacerBuilder.h: Likewise.

	* src/RacerNRQL.cpp: Add documentation.
	Refine class hierarchy.
	* include/RacerNRQL.h: Likewise.
	
	* include/RacerQueryExpr.h: Add documentation.
	Refine class hierarchy.
	Add support for namespace identifier and different types of variables.

