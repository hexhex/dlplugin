2006-05-02  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* examples/wires.owl: New file.

	* examples/wires.hex: New file.

	* src/RacerRunner.cpp (RacerRunnerAdaptee::run): Create pipe to
	Racer and parse stdout,stderr for error messages.

	* include/TCPStream.h (TCPIOStream): Use std::iostream::rdfbuf() for our streambuf.
	* src/TCPStream.cpp (TCPIOStream): Likewise.

	* include/RacerInterface.h (RacerInterface::setOptions): Use std::vector argv.
	* src/RacerInterface.cpp (RacerInterface::setOptions): Likewise.

2006-04-29  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/DLRewriter.cpp: Improve documentation.

	* src/RacerInterface.cpp (RacerInterface::createRewriter): Enable
	rewriter.
	(RacerInterface::setOptions): Fix --ontology parsing.

2006-04-28  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/dl-rewriter: Remove.
	* src/Makefile.am: Remove dl-rewriter.

	* examples/tweety_bird.owl: Use default namespace
	http://www.kr.tuwien.ac.at/staff/roman/tweety_bird#.

	* examples/dl-shop.dlp: New file.

	* testsuite/TestDLRewriter.cpp (TestDLRewriter::runDLNoRewrite):
	DLRewriter must not rewrite HEX programs.
	(TestDLRewriter::runDLRewrite): Add dl-shop.dlp testcase.
	* testsuite/TestDLRewriter.h: Likewise.

	* src/DLRewriter.cpp (DLRewriter::rewriteConcept): Strip whitespaces.
	(DLRewriter::filterInput): DL rewriting should work now.
	* include/DLRewriter.h: Likewise.

2006-04-27  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerInterface.cpp (RacerInterface::createRewriter): Disable
	DLRewriter.

	* src/DLRewriter.cpp: Remove regexp code, let's do it ourselves.
	* include/DLRewriter.h: Likewise.

	* examples/Makefile.am: Add tweety_bird.owl, tweety_bird.dlp.

	* testsuite/Makefile.am: Add TestDLRewriter.cpp, TestDLRewriter.h.

	* examples/tweety_bird.dlp: New file.
	* examples/tweety_bird.owl: Likewise.
	* testsuite/TestDLRewriter.cpp: Likewise.
	* testsuite/TestDLRewriter.h: Likewise.

2006-04-26  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>
	
	* src/DLRewriter.cpp: New file.
	Some updates, currently non-working.
	* include/DLRewriter.h: Likewise.

	* src/RacerRunner.cpp (RacerRunner::isRunning)
	(RacerRunner::setPort, RacerRunner::getPort): New methods.
	(RacerRunner::run): Don't check for running Racer processes.
	(RacerRunner::run): Try to start Racer with a new port number.
	* include/RacerRunner.h: Likewise.

	* include/TCPStream.h (TCPIOStream::setConnection): New method.
	* src/TCPStream.cpp: Likewise.

	* src/RacerInterface.cpp (RacerInterface::getStream): New method.
	* include/RacerInterface.h: Likewise.

	* src/RacerExtAtom.cpp: Add kb-ontologies command.
	(RacerExtAtom::retrieve): Reset stream after starting Racer.
	* include/RacerBuilder.h: Likewise.
	Fix documentation.

2006-04-25  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/Makefile.am (noinst_HEADERS): Add DLRewriter.h.

	* src/Makefile.am (bin_SCRIPTS): Add dl-rewriter.
	Add DLRewriter.cpp.

	* src/OWLParser.cpp (OWLParser::parseNames): Parse concept and
	role names.
	* include/OWLParser.h: Likewise.

	* src/RacerInterface.cpp: Add DLRewriter.
	* include/RacerInterface.h: Likewise.

	* src/dl-rewriter: New file.

2006-04-24  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/Makefile.am (noinst_HEADERS): Add RacerQueryExpr.h and
	RacerQueryExpr.tcc.

2006-04-21  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* src/RacerInterface.cpp (RacerInterface::~RacerInterface): Don't
	delete cache entries, they are managed shared_ptr's now.
	(RacerInterface::setOptions): New method.
	* include/RacerInterface.h: Likewise.

2006-04-19  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/RacerQuery.h (QueryCtx): Add a Ctor for PluginAtom::Query.
	* src/RacerQuery.cpp: Likewise.

	* include/RacerExtAtom.h (RacerExtAtom::setupQuery): Remove.
	* src/RacerExtAtom.cpp: Likewise.

	* src/RacerQuery.cpp (Query::createHead): Simplify code.

	* src/RacerBuilder.cpp: Use the interpreters of RacerQueryExpr to
	build the commands.

	* include/RacerBuilder.h (RacerBuilder::createName): Remove.

	* include/RacerQueryExpr.tcc: New file.

	* include/RacerNRQL.h: Move operator<< to RacerQueryExpr.tcc.
	* src/RacerNRQL.cpp: Likewise.

	* src/RacerQueryExpr.cpp (ABoxInvertedRole): New class.
	* include/RacerQueryExpr.h: Likewise.

2006-04-18  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/RacerQueryExpr.h (~QueryExpr): Add virtual dtor.

	* m4/boost.m4: OLD_CXX_FLAGS != OLD_CXXFLAGS.

	* include/RacerNRQL.h: Publish operator<< for std::vector of
	boost::shared_ptr's.

	* src/RacerQueryExpr.cpp: Move code of RacerQueryExpr.h here.
	* include/RacerQueryExpr.h: Likewise.

	* src/Makefile.am (libdlvhexracer_la_SOURCES): Add RacerQueryExpr.cpp.

	* src/RacerQuery.cpp (Query::createBody, Query::createHead)
	(Query::createPremise): Construct lists of the corresponding query
	expressions.
	* include/RacerQuery.h: Likewise.

	* src/RacerBuilder.cpp (RacerStateBuilder::buildCommand): Use
	Query::createPremise() for building the state command.
	* include/RacerBuilder.h: Likewise.

	* src/RacerNRQL.cpp: Add documentation.
	Refine class hierarchy.
	* include/RacerNRQL.h: Likewise.
	
	* include/RacerQueryExpr.h: Add documentation.
	Refine class hierarchy.
	Add support for namespace identifier and different types of variables.

