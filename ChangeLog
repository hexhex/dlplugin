2006-04-19  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/RacerQuery.h (QueryCtx): Add a Ctor for PluginAtom::Query.
	* src/RacerQuery.cpp: Likewise.

	* include/RacerExtAtom.h (RacerExtAtom::setupQuery): Remove.
	* src/RacerExtAtom.cpp: Likewise.

	* src/RacerQuery.cpp (Query::createHead): Simplify code.

	* src/RacerBuilder.cpp: Use the interpreters of RacerQueryExpr to
	build the commands.

	* include/RacerBuilder.h (RacerBuilder::createName): Remove.

	* include/RacerQueryExpr.tcc: New file.

	* include/RacerNRQL.h: Move operator<< to RacerQueryExpr.tcc.
	* src/RacerNRQL.cpp: Likewise.

	* src/RacerQueryExpr.cpp (ABoxInvertedRole): New class.
	* include/RacerQueryExpr.h: Likewise.

2006-04-18  Thomas Krennwallner  <tkren@kr.tuwien.ac.at>

	* include/RacerQueryExpr.h (~QueryExpr): Add virtual dtor.

	* m4/boost.m4: OLD_CXX_FLAGS != OLD_CXXFLAGS.

	* include/RacerNRQL.h: Publish operator<< for std::vector of
	boost::shared_ptr's.

	* src/RacerQueryExpr.cpp: Move code of RacerQueryExpr.h here.
	* include/RacerQueryExpr.h: Likewise.

	* src/Makefile.am (libdlvhexracer_la_SOURCES): Add RacerQueryExpr.cpp.

	* src/RacerQuery.cpp (Query::createBody, Query::createHead)
	(Query::createPremise): Construct lists of the corresponding query
	expressions.
	* include/RacerQuery.h: Likewise.

	* src/RacerBuilder.cpp (RacerStateBuilder::buildCommand): Use
	Query::createPremise() for building the state command.
	* include/RacerBuilder.h: Likewise.

	* src/RacerNRQL.cpp: Add documentation.
	Refine class hierarchy.
	* include/RacerNRQL.h: Likewise.
	
	* include/RacerQueryExpr.h: Add documentation.
	Refine class hierarchy.
	Add support for namespace identifier and different types of variables.

